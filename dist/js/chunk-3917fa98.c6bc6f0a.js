(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3917fa98"],{"20d0":function(e,s,i){"use strict";i.r(s);var t=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{ref:"singer",staticClass:"singer"},[i("scroll",{ref:"scroll",staticClass:"singer-content",attrs:{data:e.singerList}},[i("div",[i("div",{staticClass:"categorycountry"},[i("ul",e._l(e.singerCategroyByCountry,function(s,t){return i("li",{staticClass:"item",on:{click:function(s){e.chooseSingerByCountry(t)}}},[i("span",{class:{itemactive:t===e.activeCountry}},[e._v(e._s(s))])])}))]),i("div",{staticClass:"categorysex"},[i("ul",[e._l(e.singerCategroyBySex,function(s,t){return i("li",{staticClass:"item",on:{click:function(s){e.chooseSingerBySex(t)}}},[i("span",{class:{itemactive:t===e.activeSex}},[e._v(e._s(s))])])}),i("li",{ref:"singerRank",staticClass:"item",on:{click:e.getSingerRank}},[i("span",[e._v("歌手排行")])])],2)]),i("p",{staticClass:"title"},[e._v("热门歌手")]),e.isChoose?e._e():i("ul",e._l(e.singerList,function(s){return i("li",{staticClass:"Singerlist",on:{click:function(i){e.selectSinger(s)}}},[i("div",{staticClass:"infoImg"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img1v1Url,expression:"item.img1v1Url"}],staticClass:"imgInfo"})]),i("div",{staticClass:"desc"},[i("h3",{staticClass:"name"},[e._v(e._s(s.name))]),i("span",[i("Icon",{attrs:{type:"ios-flame-outline"}}),e._v(e._s(s.score))],1),i("p",[e._v("有"+e._s(s.topicPerson)+"人正在讨论"),i("span",{staticStyle:{color:"rgb(102, 153, 204)"}},[e._v(e._s(s.name))])])])])})),e.isChoose?i("ul",e._l(e.singerListChoose,function(s){return i("li",{staticClass:"SingerlistChoose",on:{click:function(i){e.selectSinger(s)}}},[i("div",{staticClass:"infoImgChoose"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img1v1Url,expression:"item.img1v1Url"}],staticClass:"imgInfoChoose"})]),i("div",{staticClass:"descChoose"},[i("h3",{staticClass:"nameChoose"},[e._v(e._s(s.name))])])])})):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.singerList.length&&!1===e.isChoose||!e.singerListChoose.length&&!0===e.isChoose,expression:"(!singerList.length && isChoose === false) ||(!singerListChoose.length&& isChoose === true)"}],staticClass:"loading-container"},[i("loading")],1)]),i("router-view")],1)},o=[],a=i("c93e"),n=(i("cadf"),i("551c"),i("097d"),i("aada")),c=i("c428"),r=i("2f62"),h=i("510f"),l={mixins:[h["b"]],name:"singer",data:function(){return{singerList:[],singerListChoose:[],isChoose:!1,activeCountry:-1,activeSex:-1,singerCategroyByCountry:["华语","欧美","日本","韩国","其他"],singerCategroyBySex:["男","女","乐队/组合"]}},components:{Loading:c["a"],Scroll:n["a"]},methods:Object(a["a"])({handlePlayList:function(e){var s=e.length>0?"60px":"";this.$refs.singer.style.bottom=s,this.$refs.scroll.refresh()},chooseSingerByCountry:function(e){switch(this.isChoose=!0,this.singerListChoose=[],this.activeCountry=e,this.$refs.singerRank.style.color="#666",-1===this.activeSex&&(this.activeSex=0),e){case 0:0===this.activeSex?this.loadSingerBychoose("1001"):1===this.activeSex?this.loadSingerBychoose("1002"):this.loadSingerBychoose("1003");break;case 1:0===this.activeSex?this.loadSingerBychoose("2001"):1===this.activeSex?this.loadSingerBychoose("2002"):this.loadSingerBychoose("2003");break;case 2:0===this.activeSex?this.loadSingerBychoose("6001"):1===this.activeSex?this.loadSingerBychoose("6002"):this.loadSingerBychoose("6003");break;case 3:0===this.activeSex?this.loadSingerBychoose("7001"):1===this.activeSex?this.loadSingerBychoose("7002"):this.loadSingerBychoose("7003");break;case 4:0===this.activeSex?this.loadSingerBychoose("4001"):1===this.activeSex?this.loadSingerBychoose("4002"):this.loadSingerBychoose("4003");break}},chooseSingerBySex:function(e){switch(this.isChoose=!0,this.singerListChoose=[],this.$refs.singerRank.style.color="#666",-1===this.activeCountry&&(this.activeCountry=0),this.activeSex=e,e){case 0:switch(this.activeCountry){case 0:this.loadSingerBychoose("1001");break;case 1:this.loadSingerBychoose("2001");break;case 2:this.loadSingerBychoose("6001");break;case 3:this.loadSingerBychoose("7001");break;case 4:this.loadSingerBychoose("4001");break}break;case 1:switch(this.activeCountry){case 0:this.loadSingerBychoose("1002");break;case 1:this.loadSingerBychoose("2002");break;case 2:this.loadSingerBychoose("6002");break;case 3:this.loadSingerBychoose("7002");break;case 4:this.loadSingerBychoose("4002");break}break;case 2:switch(this.activeCountry){case 0:this.loadSingerBychoose("1003");break;case 1:this.loadSingerBychoose("2003");break;case 2:this.loadSingerBychoose("6003");break;case 3:this.loadSingerBychoose("7003");break;case 4:this.loadSingerBychoose("4003");break}break}},getSingerRank:function(){this.$refs.singerRank.style.color="#df3336",this.activeCountry=-1,this.activeSex=-1,this.isChoose=!1,this.loadSingerHot()},loadSingerHot:function(){var e=this;this.singerList=[],e.$axios.get("api/toplist/artist").then(function(s){if(200===s.data.code){e.singerList=s.data.list.artists;var i={id:12478216,name:"写夜子",score:666,topicPerson:38,img1v1Url:"http://p4.music.126.net/9Go1z81prv-7oBQq6IG1Vg==/109951163419331306.jpg"};e.singerList.unshift(i)}}).catch(function(e){console.log(e)})},loadSingerBychoose:function(e){var s=this;s.$axios.get("api/artist/list",{params:{cat:e,limit:50}}).then(function(e){200===e.data.code&&(s.singerListChoose=e.data.artists)}).catch(function(e){console.log(e)})},selectSinger:function(e){this.$router.push({path:"/singer/singerDetail",query:{id:e.id}}),this.setSinger(e)}},Object(r["d"])({setSinger:"SET_SINGER"})),created:function(){this.loadSingerHot()}},g=l,d=(i("3893"),i("2877")),u=Object(d["a"])(g,t,o,!1,null,"0b779ff9",null);u.options.__file="singer.vue";s["default"]=u.exports},3893:function(e,s,i){"use strict";var t=i("d427"),o=i.n(t);o.a},c428:function(e,s,i){"use strict";var t=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"loading"},[i("img",{attrs:{width:"40",height:"30",src:"https://cdn.xieyezi.com/loading.gif"}}),i("p",{staticClass:"desc",class:e.themeNumber},[e._v(e._s(e.title))])])},o=[],a=i("c93e"),n=(i("cadf"),i("551c"),i("097d"),i("2f62")),c={props:{title:{type:String,default:"玩命载入中..."}},computed:Object(a["a"])({themeNumber:function(){return 0===this.theme?"theme1":1===this.theme?"theme2":"theme3"}},Object(n["c"])(["theme"]))},r=c,h=(i("d89d"),i("2877")),l=Object(h["a"])(r,t,o,!1,null,"078c5288",null);l.options.__file="loading.vue";s["a"]=l.exports},d427:function(e,s,i){},d89d:function(e,s,i){"use strict";var t=i("eb40"),o=i.n(t);o.a},eb40:function(e,s,i){}}]);